{"openapi":"3.0.0","paths":{"/libros":{"get":{"operationId":"LibroController_findAll","summary":"Obtener todos los libros","parameters":[],"responses":{"200":{"description":"Libros obtenidos con éxito."}},"tags":["Libros"],"security":[{"bearer":[]}]},"post":{"operationId":"LibroController_create","summary":"Crear un nuevo libro","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateLibroDto"}}}},"responses":{"201":{"description":"Libro creado con éxito.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Libro"}}}},"400":{"description":"Error al crear el libro."}},"tags":["Libros"],"security":[{"bearer":[]}]}},"/libros/buscar":{"get":{"operationId":"LibroController_search","summary":"Buscar libros por título, autor o género","parameters":[{"name":"titulo","required":false,"in":"query","schema":{"type":"string"}},{"name":"autor","required":false,"in":"query","schema":{"type":"string"}},{"name":"genero","required":false,"in":"query","schema":{"type":"string"}}],"responses":{"200":{"description":"Libros filtrados obtenidos con éxito."},"404":{"description":"Libros no encontrados."}},"tags":["Libros"],"security":[{"bearer":[]}]}},"/libros/{id}":{"get":{"operationId":"LibroController_findOne","summary":"Obtener un libro por ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Libro encontrado con éxito.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Libro"}}}},"404":{"description":"Libro no encontrado."}},"tags":["Libros"],"security":[{"bearer":[]}]},"put":{"operationId":"LibroController_update","summary":"Actualizar un libro por ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateLibroDto"}}}},"responses":{"200":{"description":"Libro actualizado con éxito.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Libro"}}}},"404":{"description":"Libro no encontrado."}},"tags":["Libros"],"security":[{"bearer":[]}]},"delete":{"operationId":"LibroController_remove","summary":"Eliminar un libro por ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Libro eliminado con éxito."},"404":{"description":"Libro no encontrado."}},"tags":["Libros"],"security":[{"bearer":[]}]}},"/usuarios":{"get":{"operationId":"UsuarioController_getAllUsuarios","summary":"Obtener todos los usuarios","parameters":[],"responses":{"200":{"description":"Usuarios obtenidos con éxito."}},"tags":["Usuarios"],"security":[{"bearer":[]}]},"post":{"operationId":"UsuarioController_createUsuario","summary":"Crear un nuevo usuario","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUsuarioDto"}}}},"responses":{"201":{"description":"Usuario creado con éxito.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Usuario"}}}},"400":{"description":"Error al crear el usuario."}},"tags":["Usuarios"]}},"/usuarios/{id}":{"get":{"operationId":"UsuarioController_getUsuario","summary":"Obtener un usuario por ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Usuario encontrado con éxito.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Usuario"}}}},"404":{"description":"Usuario no encontrado."}},"tags":["Usuarios"],"security":[{"bearer":[]}]},"put":{"operationId":"UsuarioController_updateUsuario","summary":"Actualizar un usuario por ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUsuarioDto"}}}},"responses":{"200":{"description":"Usuario actualizado con éxito.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Usuario"}}}},"404":{"description":"Usuario no encontrado."}},"tags":["Usuarios"],"security":[{"bearer":[]}]},"delete":{"operationId":"UsuarioController_deleteUsuario","summary":"Eliminar un usuario por ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Usuario eliminado con éxito."},"404":{"description":"Usuario no encontrado."}},"tags":["Usuarios"],"security":[{"bearer":[]}]}},"/auth/login":{"post":{"operationId":"AuthController_login","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUsuarioDto"}}}},"responses":{"201":{"description":""}},"tags":["Login"]}},"/reservas":{"post":{"operationId":"ReservaController_create","summary":"Crear una nueva reserva","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateReservaDto"}}}},"responses":{"201":{"description":"Reserva creada con éxito.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Reserva"}}}},"400":{"description":"Error al crear la reserva."}},"tags":["Reservas"],"security":[{"bearer":[]}]},"get":{"operationId":"ReservaController_findAll","summary":"Obtener todas las reservas","parameters":[],"responses":{"200":{"description":"Lista de todas las reservas.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Reserva"}}}}}},"tags":["Reservas"],"security":[{"bearer":[]}]}},"/reservas/libro/{libroId}":{"get":{"operationId":"ReservaController_findByLibroId","summary":"Obtener reservas por ID de libro","parameters":[{"name":"libroId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Lista de reservas para el libro especificado.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Reserva"}}}}},"404":{"description":"No se encontraron reservas para este libro."}},"tags":["Reservas"],"security":[{"bearer":[]}]}},"/reservas/{id}":{"get":{"operationId":"ReservaController_findOne","summary":"Obtener una reserva por ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Reserva encontrada.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Reserva"}}}},"404":{"description":"Reserva no encontrada."}},"tags":["Reservas"],"security":[{"bearer":[]}]},"patch":{"operationId":"ReservaController_update","summary":"Actualizar una reserva por ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateReservaDto"}}}},"responses":{"200":{"description":"Reserva actualizada con éxito.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Reserva"}}}},"404":{"description":"Reserva no encontrada."}},"tags":["Reservas"],"security":[{"bearer":[]}]},"delete":{"operationId":"ReservaController_remove","summary":"Eliminar una reserva por ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Reserva eliminada con éxito."},"404":{"description":"Reserva no encontrada."}},"tags":["Reservas"],"security":[{"bearer":[]}]}},"/resenas":{"post":{"operationId":"ReseñaController_create","summary":"Crear una nueva reseña","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateResenaDto"}}}},"responses":{"201":{"description":"Reseña creada con éxito.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Resena"}}}},"400":{"description":"Error al crear la reseña."}},"tags":["Reseñas"],"security":[{"bearer":[]}]},"get":{"operationId":"ReseñaController_findAll","summary":"Obtener todas las reseñas","parameters":[],"responses":{"200":{"description":"Lista de todas las reseñas.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Resena"}}}}}},"tags":["Reseñas"],"security":[{"bearer":[]}]}},"/resenas/{id}":{"get":{"operationId":"ReseñaController_findOne","summary":"Obtener una reseña por ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Reseña encontrada.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Resena"}}}},"404":{"description":"Reseña no encontrada."}},"tags":["Reseñas"],"security":[{"bearer":[]}]},"delete":{"operationId":"ReseñaController_remove","summary":"Eliminar una reseña por ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Reseña eliminada con éxito."},"404":{"description":"Reseña no encontrada."}},"tags":["Reseñas"],"security":[{"bearer":[]}]},"put":{"operationId":"ReseñaController_update","summary":"Actualizar una reseña por ID","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateResenaDto"}}}},"responses":{"200":{"description":"Reseña actualizada con éxito.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Resena"}}}},"404":{"description":"Reseña no encontrada."}},"tags":["Reseñas"],"security":[{"bearer":[]}]}},"/resenas/libro/{libroId}":{"get":{"operationId":"ReseñaController_findByLibro","summary":"Obtener reseñas asociadas a un libro","parameters":[{"name":"libroId","required":true,"in":"path","schema":{"type":"number"}}],"responses":{"200":{"description":"Lista de reseñas del libro.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Resena"}}}}}},"tags":["Reseñas"],"security":[{"bearer":[]}]}}},"info":{"title":"Biblioteca API","description":"API para gestionar libros, usuarios, reseñas y reservas","version":"1.0","contact":{}},"tags":[{"name":"Libros","description":""},{"name":"Usuarios","description":""},{"name":"Reseñas","description":""},{"name":"Reservas","description":""},{"name":"Login","description":""}],"servers":[{"url":"http://localhost:3000"}],"components":{"securitySchemes":{"bearer":{"scheme":"bearer","bearerFormat":"JWT","type":"http"}},"schemas":{"Usuario":{"type":"object","properties":{"id":{"type":"string","example":"123e4567-e89b-12d3-a456-426614174000","description":"El identificador único del usuario (UUID)"},"email":{"type":"string","example":"usuario@example.com","description":"El correo electrónico del usuario, único en la base de datos"},"password":{"type":"string","example":"password123","description":"La contraseña del usuario (oculta en respuestas)"},"activo":{"type":"boolean","example":true,"description":"Indica si el usuario está activo o no"}},"required":["id","email","password","activo"]},"Resena":{"type":"object","properties":{"id":{"type":"number","example":1,"description":"El identificador único de la reseña"},"comentario":{"type":"string","example":"Me encantó el libro","description":"El comentario de la reseña"},"calificacion":{"type":"number","example":5,"description":"La calificación dada al libro, del 1 al 5"},"usuario":{"description":"El usuario que escribió la reseña","allOf":[{"$ref":"#/components/schemas/Usuario"}]},"libro":{"description":"El libro al que pertenece la reseña","allOf":[{"$ref":"#/components/schemas/Libro"}]},"fecha":{"format":"date-time","type":"string","example":"2024-01-01","description":"La fecha en que se escribió la reseña"}},"required":["id","comentario","calificacion","usuario","libro","fecha"]},"Libro":{"type":"object","properties":{"id":{"type":"number","example":1,"description":"El identificador único del libro"},"titulo":{"type":"string","example":"Cien años de soledad","description":"El título del libro"},"autor":{"type":"string","example":"Gabriel García Márquez","description":"El autor del libro"},"genero":{"type":"string","example":"Realismo mágico","description":"El género del libro"},"disponible":{"type":"boolean","example":true,"description":"Disponibilidad del libro"},"reservas":{"description":"Reservas del libro","type":"array","items":{"$ref":"#/components/schemas/Reserva"}},"reseñas":{"description":"Reseñas del libro","type":"array","items":{"$ref":"#/components/schemas/Resena"}}},"required":["id","titulo","autor","genero","disponible","reservas","reseñas"]},"Reserva":{"type":"object","properties":{"id":{"type":"number","example":1,"description":"El identificador único de la reserva"},"libro":{"description":"El libro que se ha reservado","allOf":[{"$ref":"#/components/schemas/Libro"}]},"usuario":{"description":"El usuario que ha realizado la reserva","allOf":[{"$ref":"#/components/schemas/Usuario"}]},"fechaReserva":{"format":"date-time","type":"string","example":"2024-01-01","description":"La fecha en la que se realizó la reserva"},"activo":{"type":"boolean","example":true,"description":"Indica si la reserva está activa o no"}},"required":["id","libro","usuario","fechaReserva","activo"]},"CreateLibroDto":{"type":"object","properties":{"titulo":{"type":"string","description":"Título del libro","example":"El Principito"},"autor":{"type":"string","description":"Autor del libro","example":"Antoine de Saint-Exupéry"},"genero":{"type":"string","description":"Género del libro","example":"Fantasía"},"disponible":{"type":"boolean","description":"Disponibilidad del libro","example":true}},"required":["titulo","autor","genero"]},"UpdateLibroDto":{"type":"object","properties":{"titulo":{"type":"string","description":"Título del libro","example":"El Principito"},"autor":{"type":"string","description":"Autor del libro","example":"Antoine de Saint-Exupéry"},"genero":{"type":"string","description":"Género del libro","example":"Fantasía"},"disponible":{"type":"boolean","description":"Disponibilidad del libro","example":true}}},"CreateUsuarioDto":{"type":"object","properties":{"email":{"type":"string","description":"Email del usuario","example":"usuario@example.com"},"password":{"type":"string","description":"Contraseña del usuario","example":"contraseña123"},"activo":{"type":"boolean","description":"Estado activo del usuario","example":true}},"required":["email","password"]},"UpdateUsuarioDto":{"type":"object","properties":{"email":{"type":"string","description":"Email del usuario","example":"usuario@example.com"},"password":{"type":"string","description":"Contraseña del usuario","example":"nuevaContraseña123"},"activo":{"type":"boolean","description":"Estado activo del usuario","example":true}}},"CreateReservaDto":{"type":"object","properties":{"libroId":{"type":"number","description":"ID del libro asociado a la reserva","example":1},"usuarioId":{"type":"number","description":"ID del usuario que realiza la reserva","example":123},"fechaReserva":{"format":"date-time","type":"string","description":"Fecha de la reserva","example":"2024-10-04T12:00:00Z"}},"required":["libroId","usuarioId","fechaReserva"]},"UpdateReservaDto":{"type":"object","properties":{"libroId":{"type":"number","description":"ID del libro asociado a la reserva","example":1},"usuarioId":{"type":"number","description":"ID del usuario que realiza la reserva","example":123},"fechaReserva":{"format":"date-time","type":"string","description":"Fecha de la reserva","example":"2024-10-04T12:00:00Z"}}},"CreateResenaDto":{"type":"object","properties":{"libroId":{"type":"number","description":"ID del libro asociado a la reseña","example":1},"usuarioId":{"type":"number","description":"ID del usuario que creó la reseña","example":123},"comentario":{"type":"string","description":"Comentario de la reseña","example":"Excelente libro, lo recomiendo."},"calificacion":{"type":"number","description":"Calificación de la reseña (1 a 5)","example":5},"fecha":{"format":"date-time","type":"string","description":"Fecha de la reseña","example":"2024-10-04T12:00:00Z"}},"required":["libroId","usuarioId","comentario","calificacion","fecha"]},"UpdateResenaDto":{"type":"object","properties":{"comentario":{"type":"string","description":"Comentario de la reseña","example":"Actualización del comentario."},"calificacion":{"type":"number","description":"Calificación de la reseña (1 a 5)","example":4},"fecha":{"format":"date-time","type":"string","description":"Fecha de la reseña","example":"2024-10-04T12:00:00Z"}}}}}}